apiVersion: v1
kind: Secret
metadata:
  name: {{ include "fileguard.secretName" . }}
  labels:
    {{- include "fileguard.labels" . | nindent 4 }}
  annotations:
    helm.sh/resource-policy: keep
type: Opaque
data:
  # Sensitive values are base64-encoded by Helm from the values file.
  # Do NOT store plaintext secrets in version control.
  # Use --set secrets.databaseUrl=... or a sealed-secrets / Vault integration.
  DATABASE_URL: {{ .Values.secrets.databaseUrl | b64enc | quote }}
  REDIS_URL: {{ .Values.secrets.redisUrl | b64enc | quote }}
  SECRET_KEY: {{ .Values.secrets.secretKey | b64enc | quote }}
