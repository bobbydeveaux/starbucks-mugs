{
  "prTitle": "feat: implement compliance report retrieval API handlers",
  "prBody": "## Summary\n\nImplements the compliance report retrieval API endpoints for FileGuard (issue #290).\n\n### Changes\n\n- **`fileguard/schemas/compliance_report.py`** — New Pydantic response schemas:\n  - `ComplianceReportOut`: serialisable representation of a single compliance report metadata record\n  - `ComplianceReportListResponse`: paginated list response wrapping `ComplianceReportOut` records\n\n- **`fileguard/services/compliance_report.py`** — New `ComplianceReportService` with two read-only async methods:\n  - `list_reports(session, tenant_id, *, period_start, period_end, format_, limit, offset)` — paginated list with optional period and format filters; returns `(records, total_count)` tuple\n  - `get_report(session, tenant_id, report_id)` — tenant-scoped single-record lookup; returns `None` when not found\n\n- **`fileguard/api/routes/reports.py`** — New FastAPI router registered at `/v1/reports`:\n  - `GET /v1/reports` — list compliance reports; supports `period=YYYY-MM`, `format=pdf|json`, `limit`, and `offset` query parameters\n  - `GET /v1/reports/{report_id}/download` — redirect (302) for HTTP/HTTPS URIs; JSON response for cloud storage URIs (s3://, gs://)\n\n- **`fileguard/main.py`** — Registers the new `reports_router` on the FastAPI application\n\n- **`tests/unit/test_compliance_report_api.py`** — 40+ unit tests covering:\n  - `_parse_period`: valid months, leap years, invalid format, out-of-range months\n  - `ComplianceReportService.list_reports`: empty result, pagination, total count correctness\n  - `ComplianceReportService.get_report`: found, not found, tenant isolation\n  - Pydantic schemas: field preservation, serialisation\n  - `list_reports` route: period/format/pagination forwarding, 422 on invalid inputs\n  - `download_report` route: 302 for HTTP URIs, 200 JSON for cloud URIs, 404 for missing reports, tenant isolation\n\n- **`docs/concepts/fileguard/README.md`** — Updated project structure and added Compliance Reports API documentation section\n\n### Design decisions\n\n- **Tenant isolation** enforced at the DB query layer via `WHERE tenant_id = ?` — callers cannot access another tenant's reports\n- **Download endpoint** returns 302 for HTTP(S) URIs (suitable for pre-signed URLs) and 200 JSON metadata for cloud URIs requiring separate credential exchange\n- **Pagination** uses two-query approach (count + data) to provide accurate `total` across pages\n- All tests are fully offline — no database or network connections required\n\nCloses #290",
  "testsPass": true,
  "filesChanged": [
    "fileguard/schemas/compliance_report.py",
    "fileguard/services/compliance_report.py",
    "fileguard/api/routes/__init__.py",
    "fileguard/api/routes/reports.py",
    "fileguard/main.py",
    "tests/unit/test_compliance_report_api.py"
  ],
  "docsUpdated": [
    "docs/concepts/fileguard/README.md"
  ],
  "docsReviewed": [
    "docs/concepts/fileguard/HLD.md",
    "docs/concepts/fileguard/LLD.md",
    "docs/concepts/fileguard/reviews/sprint_2_review.md",
    "docs/concepts/fileguard/refinements/sprint_2_refinement.md"
  ]
}
