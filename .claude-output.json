{
  "prTitle": "feat: implement AuditService with HMAC-SHA256 signing and append-only PostgreSQL persistence",
  "prBody": "## Summary\n\n- Add `fileguard/services/audit.py` with `AuditService` class implementing tamper-evident audit logging\n- HMAC-SHA256 signature computed over canonical fields `(id, file_hash, status, action_taken, created_at)` before each INSERT\n- Append-only enforcement: service only calls `session.add()` + `session.flush()` — no UPDATE or DELETE code paths exist\n- Structured JSON log entries emitted on every audit call with `correlation_id`, `tenant_id`, and `scan_id`\n- `AuditError` raised (never silently swallowed) on database write failure, chaining the original exception\n- `verify_hmac()` helper uses `hmac.compare_digest` for timing-safe signature verification\n- 28 unit tests covering HMAC determinism, tamper detection (all signed fields), append-only enforcement, structured log output, and error propagation\n- Add `docs/concepts/fileguard/audit.md` documenting the service, signed fields, log format, and usage examples\n\n## Review Feedback Addressed\n\n- **BLOCKING fixed**: `node_modules/` added to `.gitignore`; directory is untracked (0 files in git index)\n- **`aria-pressed` on `<article>`**: Changed to `data-selected` attribute on `<article>`; `aria-pressed` remains only on the `<button>` (correct semantics)\n- **`selectedIds` memoized**: Wrapped in `useMemo` in `CostaVsStarbucksPage.tsx` with stable dependency on `comparison.starbucks?.id` and `comparison.costa?.id`\n- **Deselect mechanism**: Toggle logic added — clicking a selected drink calls `null` on that brand slot\n- **HLD Vite version**: HLD.md updated to reflect Vite 6 (matches `package.json: \"vite\": \"^6.1.0\"`)\n\nCloses #143",
  "testsPass": true,
  "filesChanged": [
    "fileguard/services/__init__.py",
    "fileguard/services/audit.py",
    "tests/unit/test_audit_service.py",
    ".gitignore",
    "src/components/DrinkCard.tsx",
    "src/pages/CostaVsStarbucksPage.tsx",
    "docs/concepts/costa-vs-starbucks/HLD.md"
  ],
  "docsUpdated": [
    "docs/concepts/fileguard/audit.md",
    "docs/concepts/costa-vs-starbucks/HLD.md"
  ],
  "docsReviewed": [
    "docs/concepts/fileguard/LLD.md",
    "docs/concepts/fileguard/middleware.md",
    "docs/concepts/fileguard/tasks.yaml"
  ],
  "completedTasks": [1]
}
