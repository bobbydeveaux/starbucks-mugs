GeneratedAt: "2026-02-24T17:31:03Z"
Plan: costa-vs-starbucks-plan
Sprints:
- Features:
  - FeatureID: costa-vs-starbucks-feat-filter-search
    FeatureTitle: Category Filter and Search
    Tasks:
    - AcceptanceCriteria:
      - filterDrinks returns all drinks when category is 'All' and search is empty
      - filterDrinks filters by category and search string simultaneously
      - Search matching is case-insensitive and matches on drink name
      - Passing an empty drinks array returns an empty array without errors
      AgentType: frontend-engineer
      Dependencies: []
      Description: Create the filterDrinks utility function in src/utils/filterDrinks.ts.
        It should accept a drinks array, an active category (Hot | Iced | Blended
        | Tea | Other | All), and a search string, then return the filtered subset.
        This is pure logic with no UI dependency and is consumed by useDrinks.
      EstimatedEffort: S
      Files:
      - src/utils/filterDrinks.ts
      ID: task-costa-vs-starbucks-feat-filter-search-1
      Title: Implement filterDrinks utility
    - AcceptanceCriteria:
      - FilterBar renders all six category buttons and highlights the active one
      - Clicking a FilterBar button updates the active category and re-filters drinks
      - SearchBox input triggers instant filtering on each keystroke
      - Both filter and search are applied together, narrowing results across both
        brands simultaneously
      AgentType: frontend-engineer
      Dependencies:
      - task-costa-vs-starbucks-feat-filter-search-1
      Description: Build FilterBar with toggle buttons for Hot, Iced, Blended, Tea,
        Other, and All categories, and SearchBox with a controlled text input for
        instant client-side search. Both components receive state and callbacks from
        App.tsx via props and are applied simultaneously across both brands via useDrinks.
      EstimatedEffort: S
      Files:
      - src/components/FilterBar.tsx
      - src/components/SearchBox.tsx
      ID: task-costa-vs-starbucks-feat-filter-search-2
      Title: Implement FilterBar and SearchBox components
  - FeatureID: costa-vs-starbucks-feat-comparison-panel
    FeatureTitle: Side-by-Side Comparison Panel
    Tasks:
    - AcceptanceCriteria:
      - getNutritionRows returns a row for each nutritional field with correct label
        and value mapping
      - Function is fully typed with TypeScript using the Drink type from src/types.ts
      - Unit test confirms correct row count and labels for a known fixture drink
        object
      AgentType: frontend-engineer
      Dependencies: []
      Description: Create the getNutritionRows utility function in src/utils/getNutritionRows.ts.
        It should accept a Drink object and return an array of labelled row objects
        (label, costaValue, starbucksValue) covering all nutritional fields defined
        in the LLD types schema.
      EstimatedEffort: S
      Files:
      - src/utils/getNutritionRows.ts
      ID: task-costa-vs-starbucks-feat-comparison-panel-1
      Title: Implement getNutritionRows utility
    - AcceptanceCriteria:
      - Panel renders nutritional rows side-by-side for two drinks from different
        brands
      - Selecting two drinks of the same brand renders an error/guard message instead
        of the comparison
      - Clear button resets both selected drinks to null/undefined and hides the panel
        or shows an empty state
      - Component renders nothing (or a prompt) when fewer than two drinks are selected
      AgentType: frontend-engineer
      Dependencies:
      - task-costa-vs-starbucks-feat-comparison-panel-1
      Description: Build ComparisonPanel.tsx to display two selected drinks (one Costa,
        one Starbucks) in a side-by-side layout using rows from getNutritionRows.
        Implement the same-brand duplicate selection guard that shows an error state
        when both selections are the same brand, and expose a clear/reset action to
        deselect both drinks.
      EstimatedEffort: M
      Files:
      - src/components/ComparisonPanel.tsx
      ID: task-costa-vs-starbucks-feat-comparison-panel-2
      Title: Implement ComparisonPanel component
  - FeatureID: costa-vs-starbucks-feat-nutrition-bars
    FeatureTitle: Visual Nutrition Bars
    Tasks:
    - AcceptanceCriteria:
      - NutritionBar accepts props for both drink values and renders a proportional
        bar scaled to the max of the two values
      - Recharts BarChart is used for rendering with appropriate dimensions and no
        unnecessary chrome
      - Component is rendered within ComparisonPanel for each nutrition row without
        layout breakage
      AgentType: frontend-engineer
      Dependencies: []
      Description: Create NutritionBar.tsx rendering a proportional horizontal bar
        for a single nutrient using Recharts BarChart. The bar width is scaled relative
        to the higher of the two compared values, making it easy to visually compare
        nutrients at a glance. Integrate the component into ComparisonPanel for each
        nutrition row.
      EstimatedEffort: S
      Files:
      - src/components/NutritionBar.tsx
      - src/components/ComparisonPanel.tsx
      ID: task-costa-vs-starbucks-feat-nutrition-bars-1
      Title: Implement NutritionBar component
  Sprint: 2
