GeneratedAt: "2026-02-24T20:29:45Z"
Plan: ferrari-vs-lambo-website-plan
Sprints:
- Features:
  - FeatureID: ferrari-vs-lambo-website-feat-car-catalog
    FeatureTitle: Catalog Page & Car Cards
    Tasks:
    - AcceptanceCriteria:
      - useCarCatalog returns sorted ferrari and lambo car arrays fetched via fetch('/data/ferrari.json')
        and fetch('/data/lambo.json')
      - Existing Drink/Brand types and useDrinks hook are unmodified and all existing
        tests pass
      - tailwind.config.ts includes ferrari-red and lambo-yellow color tokens alongside
        existing starbucks/costa tokens
      - Hook exposes loading/error state consistent with useDrinks pattern
      AgentType: frontend-engineer
      Dependencies: []
      Description: Append Car and CarBrand types to src/types.ts without modifying
        existing Drink/Brand types. Extend tailwind.config.ts with ferrari-red (#DC143C)
        and lambo-yellow (#FFC72C) tokens. Implement useCarCatalog hook in src/hooks/useCarCatalog.ts
        mirroring the useDrinks pattern, fetching ferrari.json and lambo.json from
        public/data/ and exposing filtered/sorted car arrays.
      EstimatedEffort: S
      Files:
      - src/types.ts
      - src/hooks/useCarCatalog.ts
      - tailwind.config.ts
      ID: task-ferrari-vs-lambo-website-feat-car-catalog-1
      Title: Add car types, Tailwind tokens, and useCarCatalog hook
    - AcceptanceCriteria:
      - CarCard renders all six stats (HP, torque, 0-60, top speed, engine config,
        image) and applies brand color tokens
      - CatalogPage displays ferrari and lambo catalogs sorted chronologically using
        useCarCatalog data
      - Route /catalog renders CatalogPage without breaking existing / route
      - Loading and error states from useCarCatalog are handled visibly in CatalogPage
      AgentType: frontend-engineer
      Dependencies:
      - task-ferrari-vs-lambo-website-feat-car-catalog-1
      Description: Build CarCard in src/components/CarCard.tsx rendering top-trump-style
        stat cards displaying image, HP, torque, 0-60, top speed, and engine config
        using the ferrari-red/lambo-yellow Tailwind tokens. Implement CatalogPage
        in src/pages/CatalogPage.tsx consuming useCarCatalog to list both brand catalogs
        chronologically with CarCard thumbnails, and wire the /catalog route in the
        app shell.
      EstimatedEffort: M
      Files:
      - src/components/CarCard.tsx
      - src/pages/CatalogPage.tsx
      - src/App.tsx
      ID: task-ferrari-vs-lambo-website-feat-car-catalog-2
      Title: Implement CarCard component and CatalogPage
  - FeatureID: ferrari-vs-lambo-website-feat-filtering-search
    FeatureTitle: Era Filter & Search
    Tasks:
    - AcceptanceCriteria:
      - useCarCatalog returns filteredFerraris and filteredLambos that react to both
        era and search state within 300 ms
      - eraMatchSuggestion correctly maps any model year to the expected decade string
      - Unit tests for eraMatchSuggestion pass; RTL tests with fake timers confirm
        debounce timing
      AgentType: frontend-engineer
      Dependencies: []
      Description: Add era decade state and debounced search query state to useCarCatalog,
        applying both filters to the fetched car arrays simultaneously. Implement
        the pure eraMatchSuggestion utility that maps a car's year to its decade bucket.
        Debounce the search input to 300 ms and expose filteredFerraris and filteredLambos
        from the hook.
      EstimatedEffort: M
      Files:
      - src/hooks/useCarCatalog.ts
      - src/utils/eraMatchSuggestion.ts
      - src/utils/eraMatchSuggestion.test.ts
      ID: task-ferrari-vs-lambo-website-feat-filtering-search-1
      Title: Extend useCarCatalog with era and search filtering logic
    - AcceptanceCriteria:
      - Selecting a decade in EraFilter narrows both car grids to models from that
        decade
      - Typing in SearchBar filters model names in real time with no visible lag beyond
        300 ms
      - Clearing both filters restores the full catalogs
      - Components render without errors and match the ferrari-red / lambo-yellow
        token usage
      AgentType: frontend-engineer
      Dependencies:
      - task-ferrari-vs-lambo-website-feat-filtering-search-1
      Description: Build the EraFilter decade-selector component that calls setEra
        from useCarCatalog, and the SearchBar text input that calls setSearch, both
        inside a CatalogFilters wrapper rendered on the /compare route. Both components
        should visually reflect active filter state using the ferrari-red and lambo-yellow
        Tailwind tokens.
      EstimatedEffort: S
      Files:
      - src/components/EraFilter.tsx
      - src/components/SearchBar.tsx
      - src/components/CatalogFilters.tsx
      ID: task-ferrari-vs-lambo-website-feat-filtering-search-2
      Title: Implement EraFilter and SearchBar components
  - FeatureID: ferrari-vs-lambo-website-feat-comparison
    FeatureTitle: Comparison View & Era Rival Suggestion
    Tasks:
    - AcceptanceCriteria:
      - eraMatchSuggestion returns the rival car whose year is closest to the selected
        car's year
      - Function uses eraRivals ids from JSON data, not brute-force year scanning
      - Unit tests pass for exact match, nearest match, and empty-catalog edge case
      AgentType: frontend-engineer
      Dependencies: []
      Description: Write the pure eraMatchSuggestion function that pairs a selected
        car with its closest-year contemporary opponent using the pre-authored eraRivals
        ids from the JSON catalog. Include a dedicated test file covering exact-year
        matches, nearest-year fallback, and edge cases like empty catalog.
      EstimatedEffort: S
      Files:
      - src/utils/eraMatchSuggestion.ts
      - src/utils/eraMatchSuggestion.test.ts
      ID: task-ferrari-vs-lambo-website-feat-comparison-1
      Title: Implement eraMatchSuggestion utility
    - AcceptanceCriteria:
      - Hook exposes selectedFerrari, selectedLambo, setSelectedFerrari, setSelectedLambo,
        and winners
      - winners map correctly identifies the higher-value car per numeric stat
      - Stat comparison handles ties and null/missing values without throwing
      - Hook tests pass using React Testing Library renderHook
      AgentType: frontend-engineer
      Dependencies: []
      Description: Build the useComparison hook that manages the selected Ferrari
        and Lambo state and computes per-stat winners by comparing numeric metrics
        between the two cars. The hook should return the selected cars, selection
        setters, and a structured winners map keyed by stat name.
      EstimatedEffort: S
      Files:
      - src/hooks/useComparison.ts
      - src/hooks/useComparison.test.ts
      ID: task-ferrari-vs-lambo-website-feat-comparison-2
      Title: Implement useComparison hook
    - AcceptanceCriteria:
      - Winning stat value is visually highlighted in the correct brand colour (ferrari-red
        or lambo-yellow) per row
      - Era-rival suggestion renders the matched opponent's name and year below the
        car selector
      - ComparePage renders without errors when no cars are selected (empty state)
      - Route /compare is accessible and linked from the app shell
      AgentType: frontend-engineer
      Dependencies:
      - task-ferrari-vs-lambo-website-feat-comparison-1
      - task-ferrari-vs-lambo-website-feat-comparison-2
      Description: Implement the ComparisonView side-by-side panel that renders both
        cars' stats and highlights the winning value per metric using ferrari-red
        or lambo-yellow brand tokens. Wire everything into ComparePage, which uses
        useComparison for state and eraMatchSuggestion to surface an era-rival suggestion
        beneath the selector.
      EstimatedEffort: M
      Files:
      - src/components/ComparisonView.tsx
      - src/pages/ComparePage.tsx
      ID: task-ferrari-vs-lambo-website-feat-comparison-3
      Title: Build ComparisonView component and ComparePage
  Sprint: 2
